{"ast":null,"code":"var _jsxFileName = \"/Users/kimhyeonsu/firebase-tutorial/src/components/Admin/index.js\";\nimport React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { withFirebase } from '../Firebase';\n\nclass AdminPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    console.log('AdminPage did mount');\n    this.setState({\n      loading: true\n    });\n    var val2 = 1234;\n    const val = this.props.firebase.db.ref('/test').once('value').then(snapshot => {\n      val2 = snapshot.val();\n    });\n    this.props.firebase.db.ref('/test').once('value').then(snapshot => console.log(snapshot.val()));\n    console.log(val);\n    console.log(val2);\n    var ref = this.props.firebase.db.ref(\"/user/XW4LpKHZY3bWyVaS4VHpr0qxJaj2\");\n    ref.on('value', function (snapshot) {\n      //   console.log(snapshot.val().username);\n      console.log('너 로맨틱 성공적2');\n    }, function (errorObject) {\n      console.log(\"The read failed2: \" + errorObject.code);\n    });\n    this.props.firebase.users().on('value', function (snapshot) {\n      //console.log(snapshot.val().username);\n      console.log('너 로맨틱 성공적');\n    }, function (errorObject) {\n      console.log(\"The read failed: \" + errorObject.code);\n    }); //   this.props.firebase.users().on('value', snapshot => {\n    //     console.log('hmm');\n    //     this.setState({\n    //       users: snapshot.val(),\n    //       loading: false,\n    //     });\n    //   });\n    //  console.log( 'hmm2' );\n  }\n\n  componentWillUnmount() {\n    console.log('AdminPage will unmount');\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const {\n      users,\n      loading\n    } = this.state;\n    this.props.firebase.user();\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Admin\"), loading && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Loading ...\"), React.createElement(UserList, {\n      users: users,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst UserList = ({\n  users\n}) => React.createElement(\"ul\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65\n  },\n  __self: this\n}, users.map(user => React.createElement(\"li\", {\n  key: user.uid,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67\n  },\n  __self: this\n}, React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 68\n  },\n  __self: this\n}, React.createElement(\"strong\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 69\n  },\n  __self: this\n}, \"ID:\"), \" \", user.uid), React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71\n  },\n  __self: this\n}, React.createElement(\"strong\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 72\n  },\n  __self: this\n}, \"E-Mail:\"), \" \", user.email), React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 74\n  },\n  __self: this\n}, React.createElement(\"strong\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 75\n  },\n  __self: this\n}, \"Username:\"), \" \", user.username))));\n\nconst condition = authUser => !!authUser;\n\nexport default withFirebase(AdminPage);","map":{"version":3,"sources":["/Users/kimhyeonsu/firebase-tutorial/src/components/Admin/index.js"],"names":["React","Component","AuthUserContext","withAuthorization","withFirebase","AdminPage","constructor","props","state","loading","users","componentDidMount","console","log","setState","val2","val","firebase","db","ref","once","then","snapshot","on","errorObject","code","componentWillUnmount","off","render","user","UserList","map","uid","email","username","condition","authUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { withFirebase } from '../Firebase';\n\nclass AdminPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      users: [],\n    };\n  }\n  componentDidMount() {\n    console.log('AdminPage did mount');\n    this.setState({ loading: true });\n\n    var val2=1234;\n    const val=this.props.firebase.db.ref('/test').once('value').then((snapshot)=>{val2=snapshot.val()});\n    this.props.firebase.db.ref('/test').once('value').then( (snapshot) =>(console.log(snapshot.val())) );\n    console.log(val);\n    console.log(val2);\n\n\n    var ref = this.props.firebase.db.ref(\"/user/XW4LpKHZY3bWyVaS4VHpr0qxJaj2\");\nref.on('value', function(snapshot) {\n   //   console.log(snapshot.val().username);\n     console.log('너 로맨틱 성공적2')\n    }, function (errorObject) {\n      console.log(\"The read failed2: \" + errorObject.code);\n    });\n\nthis.props.firebase.users().on('value', function(snapshot) {\n  //console.log(snapshot.val().username);\n  console.log('너 로맨틱 성공적')\n}, function (errorObject) {\n  console.log(\"The read failed: \" + errorObject.code);\n});\n\n//   this.props.firebase.users().on('value', snapshot => {\n//     console.log('hmm');\n//     this.setState({\n//       users: snapshot.val(),\n//       loading: false,\n//     });\n//   });\n//  console.log( 'hmm2' );\n}\n  componentWillUnmount() {\n    console.log('AdminPage will unmount');\n    this.props.firebase.users().off();\n  }\n  render() {\n    const { users, loading } = this.state;\n    this.props.firebase.user()\n    return (\n      <div>\n        <h1>Admin</h1>\n        {loading && <div>Loading ...</div>}\n        <UserList users={users} />\n      </div>\n    );\n  }\n}\nconst UserList = ({ users }) => (\n  <ul>\n    {users.map(user => (\n      <li key={user.uid}>\n        <span>\n          <strong>ID:</strong> {user.uid}\n        </span>\n        <span>\n          <strong>E-Mail:</strong> {user.email}\n        </span>\n        <span>\n          <strong>Username:</strong> {user.username}\n        </span>\n      </li>\n    ))}\n  </ul>\n);\nconst condition = authUser => !!authUser;\nexport default withFirebase(AdminPage);"]},"metadata":{},"sourceType":"module"}